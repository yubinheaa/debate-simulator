# 基于阿里云百炼平台的智能语音辩论系统

## 一、项目简介
本项目为一个基于 **Node.js** 与原生前端技术（HTML、CSS、JavaScript）实现的智能语音辩论模拟系统。  
系统运行在浏览器端，无需后端服务，用户可与 AI 进行实时语音辩论。  
项目基于 **阿里云百炼（DashScope）平台** ，集成了 **ASR（语音识别）**、**LLM（大语言模型）** 与 **TTS（语音合成）** 三大核心模型，  
实现语音识别、智能生成与语音播放的完整交互流程。

---

## 二、主要功能
1. **语音识别（ASR）**：将用户语音实时转为文字。  
2. **AI 辩词生成（LLM）**：AI 根据当前阶段与用户发言自动生成辩词。  
3. **语音合成（TTS）**：AI 语音自动播放。  
4. **比赛流程控制**：支持国际华语辩论赛 12 阶段流程。  
5. **计时管理机制**：正反双方各 17 分钟时间池，可暂停、继续、切换阶段。  
6. **Key 管理系统**：支持用户手动输入阿里云百炼 API Key，仅临时存储于 `sessionStorage`。  
7. **浏览器录音与错误处理**：当权限拒绝、网络错误、识别失败时提供提示与重试机制。  
8. **纯前端运作**：无需服务器端即可完整运行。

---

## 三、技术栈
| 类型 | 技术 |
|------|------|
| 编程语言 | JavaScript (ES6)、HTML5、CSS3 |
| 运行与构建 | Node.js、Vite |
| 语音接口 | MediaRecorder（录音）、SpeechSynthesis（播放） |
| 模型平台 | 阿里云百炼 DashScope（ASR / LLM / TTS） |
| 浏览器环境 | Chrome 最新版（推荐） |

---

## 四、运行步骤

1. 安装 Node.js

2.克隆项目
git clone https://github.com/yubinheaa/debate-simulator.git
cd debate-simulator

3.启动本地服务器
npx serve
4. 执行命令后，终端会显示本地访问地址，复制地址在浏览器中访问即可运行项目。

---

## 五、使用说明

1. 进入系统后，首先点击“API 设置”，输入您的阿里云百炼 API Key，点击“保存”。
2. 点击“开始比赛”进入第一阶段。
3. 在“用户发言区”点击“开始录音”进行发言，点击“结束录音”结束输入。
4. 系统会自动识别语音并生成文字显示在识别结果区。
5. “AI 发言区”自动生成并播放 AI 的辩论发言。
6. 可通过“暂停”、“继续”、“下一阶段”按钮控制赛程。
7. 所有发言时长都会自动记录并实时更新。

---

## 六、注意事项

1. 浏览器推荐使用 Chrome 最新版。
2. 浏览器需允许麦克风使用权限。
3. 每次刷新页面后需重新输入 API Key。
4. 若阿里云百炼平台返回错误代码，请确认 Key 是否有效及调用次数是否超限。
